# 🧠 سیستم پرسش و پاسخ هوشمند (RAG) با Llama-3

این پروژه یک سرویس وب (API) کامل است که با استفاده از معماری RAG (Retrieval-Augmented Generation) و مدل زبانی قدرتمند Llama-3 به سوالات کاربران بر اساس یک پایگاه دانش مشخص پاسخ می‌دهد.

این سرویس با استفاده از FastAPI ساخته شده و از یک ساختار میکروسرویس استاندارد پیروی می‌کند.

## ✨ ویژگی‌ها

- **هسته قدرتمند RAG:** بازیابی اطلاعات مرتبط با استفاده از امبدینگ‌های معنایی و تولید پاسخ دقیق با Llama-3.
- **تگ‌گذاری خودکار:** قابلیت شناسایی و دسته‌بندی سوالات کاربر به صورت خودکار.
- **معماری حرفه‌ای:** کدنویسی تمیز و ماژولار با جداسازی مسئولیت‌ها.
- **مستندات خودکار:** مستندات تعاملی API به صورت خودکار توسط FastAPI در آدرس `/docs` تولید می‌شود.
- **امن و آماده توسعه:** استفاده از متغیرهای محیطی برای مدیریت کلیدهای API.

## 🚀 راه‌اندازی و اجرا

برای اجرای این پروژه به صورت محلی، مراحل زیر را دنبال کنید.

### پیش‌نیازها

- پایتون نسخه 3.9 یا بالاتر
- Git

### ۱. کلون کردن ریپازیتوری

```bash
git clone https://github.com/YOUR_USERNAME/YOUR_REPOSITORY_NAME.git
cd YOUR_REPOSITORY_NAME
```

### ۲. ساخت و فعال‌سازی محیط مجازی

```bash
# ساخت محیط مجازی
python -m venv .venv

# فعال‌سازی در ویندوز
.\.venv\Scripts\Activate

# فعال‌سازی در مک/لینوکس
# source .venv/bin/activate
```

### ۳. نصب وابستگی‌ها

```bash
pip install -r requirements.txt
```

### ۴. ساخت پایگاه دانش (یک بار اجرا)
این سرویس به فایل `vector_store.json` نیاز دارد. برای ساخت آن، ابتدا فایل‌های داده اولیه خود را آماده کرده و اسکریپت‌های زیر را به ترتیب اجرا کنید:
_توجه: شما باید این اسکریپت‌ها را در پروژه خود داشته باشید._```bash
python exelMK.py
python TagVDB.py
python toVDB.py```
پس از اجرای موفق، فایل `vector_store.json` در ریشه پروژه ایجاد خواهد شد.

### ۵. تنظیم کلید API
یک فایل به نام `.env` در ریشه پروژه ایجاد کنید و کلید API خود را در آن قرار دهید:
```
TOGETHER_API_KEY="YOUR_API_KEY_HERE"
```

### ۶. اجرای سرور

```bash
uvicorn app.main:app --host 0.0.0.0 --port 8000
```
سرور شما اکنون در آدرس `http://127.0.0.1:8000` فعال است.

## ⚙️ نحوه استفاده از API

برای ارسال سوال، یک درخواست `POST` به روت زیر ارسال کنید:

`http://127.0.0.1:8000/api/v1/qna`

**مثال با `curl`:**

```bash
curl -X POST \
  -H "Content-Type: application/json" \
  -d '{"query": "هزینه سفر در تپسی چگونه محاسبه می‌شود؟"}' \
  http://127.0.0.1:8000/api/v1/qna
```

همچنین می‌توانید مستندات تعاملی را در آدرس `http://127.0.0.1:8000/docs` مشاهده و از آنجا API را تست کنید.